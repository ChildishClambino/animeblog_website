<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Archive | Anime & Gaming Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --magenta: #88086e;
            --black: #181818;
            --white: #a11f60;
        }
        body {
            margin: 0;
            font-family: 'Segoe UI', Arial, sans-serif;
            background: var(--magenta);
            background-image: url('https://www.transparenttextures.com/patterns/pixel-weave.png');
            color: var(--white);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        header {
            background: var(--black);
            padding: 1.5rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 3px solid var(--white);
        }
        header h1 {
            margin: 0;
            font-size: 2rem;
            letter-spacing: 2px;
            color: var(--white);
            text-shadow: 0 2px 8px var(--magenta);
            animation: neon-glow 2s infinite alternate;
        }
        @keyframes neon-glow {
            from { text-shadow: 0 0 8px #ffb300, 0 0 16px #88086e; }
            to   { text-shadow: 0 0 24px #ffb300, 0 0 32px #88086e; }
        }
        nav a {
            color: var(--magenta);
            background: var(--white);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            text-decoration: none;
            font-weight: bold;
            border: 2px solid var(--magenta);
            transition: background 0.2s, color 0.2s;
        }
        nav a:hover {
            background: var(--magenta);
            color: var(--white);
        }
        main {
            padding: 2rem;
            flex: 1;
        }
        .post-archive {
            background: var(--black);
            border: 2px solid var(--white);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 24px rgba(24,24,24,0.2);
            animation: floaty 3s ease-in-out infinite alternate;
        }
        @keyframes floaty {
            from { transform: translateY(0px); }
            to   { transform: translateY(-10px); }
        }
        .post-archive h2 {
            margin-top: 0;
            color: var(--magenta);
            border-bottom: 1px solid var(--white);
            padding-bottom: 0.5rem;
        }
        .post-content {
            margin-bottom: 1rem;
        }
        .comments {
            background: var(--magenta);
            color: var(--black);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            border: 1px solid var(--white);
        }
        .comment-list {
            max-height: 150px;
            overflow-y: auto;
            margin-bottom: 1rem;
        }
        .comment {
            background: var(--white);
            color: var(--black);
            border-radius: 8px;
            padding: 0.5rem;
            margin-bottom: 0.5rem;
            border: 1px solid var(--magenta);
            word-break: break-word;
        }
        .comment strong {
            color: var(--magenta);
        }
        form input, form textarea {
            width: 100%;
            margin-bottom: 0.7rem;
            padding: 0.5rem;
            border-radius: 8px;
            border: 1px solid var(--magenta);
            background: var(--white);
            color: var(--black);
            font-size: 1rem;
            resize: vertical;
        }
        form button {
            background: var(--magenta);
            color: var(--white);
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.2s;
        }
        button, #new-post-btn {
            transition: transform 0.1s, box-shadow 0.2s;
            box-shadow: 0 2px 8px #88086e;
        }
        button:active, #new-post-btn:active {
            transform: scale(0.96);
            box-shadow: 0 1px 2px #181818;
        }
        button:hover, #new-post-btn:hover {
            filter: brightness(1.2) drop-shadow(0 0 6px #ffb300);
        }
        /* Animation for fading in elements */
        .archive, .current, .comments, .suggestions, .post-archive {
            position: relative;
            overflow: hidden;
        }
        .archive::before, .current::before, .comments::before, .suggestions::before, .post-archive::before {
            content: "";
            position: absolute;
            top: -2px; left: -2px; right: -2px; bottom: -2px;
            border: 2px solid #ffb300;
            border-radius: 18px;
            pointer-events: none;
            opacity: 0.7;
            animation: borderPulse 2s infinite alternate;
        }
        @keyframes borderPulse {
            from { box-shadow: 0 0 8px #ffb300, 0 0 16px #88086e; }
            to   { box-shadow: 0 0 24px #ffb300, 0 0 32px #88086e; }
        }
        @media (max-width: 900px) {
            main {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Anime & Gaming Blog</h1>
        <nav>
            <a href="index.html">Home</a>
            <a href="archive.html">Archive</a>
            <a href="suggestions.html">Suggestions</a>
        </nav>
    </header>
    <main id="archive-container">
        <!-- Posts will be rendered here -->
    </main>
    <footer style="text-align:center; padding:1rem; color:var(--black); background:var(--white); border-top:3px solid var(--magenta);">
        &copy; 2024 Anime & Gaming Blog | <a href="https://your-resume-website.com" style="color:var(--magenta);text-decoration:underline;" target="_blank">Resume</a>
    </footer>
    <script>
        // Get all posts from localStorage
        function getPosts() {
            return JSON.parse(localStorage.getItem('blogPosts') || '[]');
        }
        // Get comments for a post index
        function getComments(idx) {
            return JSON.parse(localStorage.getItem('comments_' + idx) || '[]');
        }
        // Save comments for a post index
        function saveComments(idx, comments) {
            localStorage.setItem('comments_' + idx, JSON.stringify(comments));
        }
        // Render all posts with comments and forms
        function renderArchive() {
            const posts = getPosts();
            const container = document.getElementById('archive-container');
            container.innerHTML = '';
            if(posts.length === 0) {
                container.innerHTML = '<div class="post-archive"><h2>No posts yet.</h2></div>';
                return;
            }
            posts.forEach((post, idx) => {
                const postDiv = document.createElement('div');
                postDiv.className = 'post-archive';
                postDiv.innerHTML = `
                    <h2>${post.title}</h2>
                    <div class="post-content">${post.content.replace(/\n/g, '<br>')}</div>
                    <div class="comments">
                        <div class="comment-list" id="comment-list-${idx}"></div>
                        <form id="comment-form-${idx}">
                            <input type="text" name="name" placeholder="Your Name" required>
                            <textarea name="text" rows="2" placeholder="Leave a comment..." required></textarea>
                            <button type="submit">Post Comment</button>
                        </form>
                    </div>
                `;
                container.appendChild(postDiv);
                renderComments(idx);
                // Add submit handler for each comment form
                document.getElementById(`comment-form-${idx}`).onsubmit = function(e) {
                    e.preventDefault();
                    const name = this.elements['name'].value.trim();
                    const text = this.elements['text'].value.trim();
                    if(name && text) {
                        const comments = getComments(idx);
                        comments.push({name, text});
                        saveComments(idx, comments);
                        renderComments(idx);
                        this.reset();
                    }
                };
            });
        }
        // Render comments for a post
        function renderComments(idx) {
            const list = document.getElementById(`comment-list-${idx}`);
            const comments = getComments(idx);
            list.innerHTML = '';
            if(comments.length === 0) {
                list.innerHTML = '<em>No comments yet.</em>';
                return;
            }
            comments.forEach(c => {
                const div = document.createElement('div');
                div.className = 'comment';
                div.innerHTML = `<strong>${c.name}:</strong> ${c.text.replace(/\n/g, '<br>')}`;
                list.appendChild(div);
            });
        }
        renderArchive();
    </script>
</body>
</html>